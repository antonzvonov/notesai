# Notesai

Простое веб-приложение на Spring Boot с приветственной страницей.

## Запуск

```
mvn spring-boot:run
```

После запуска откройте `http://localhost:8080` и увидите сообщение «Hello, World!».
На главной странице есть ссылка на страницу чата (`/chat`), где можно отправлять текстовые сообщения и текстовые файлы. Ответ сервера с содержимым файла будет отображаться на странице.

## Хранение эмбеддингов

В проект добавлен сервис `VectorService`, который работает через PostgreSQL. Схема базы данных управляется Liquibase, а сервис использует таблицы:

- `file_metadata` — хранит идентификатор проекта, название файла и его расширение.
- `file_chunks` — хранит текстовые фрагменты, связанные с файлом, и бинарное представление вектора.

Сервис предоставляет методы для сохранения метаданных (включая `project_id`) и фрагментов текста вместе с вектором. При поиске контекста выбираются только фрагменты, относящиеся к текущему проекту.

Для работы требуется настроенный PostgreSQL и параметры подключения в `application.properties`. Liquibase автоматически применит изменения схемы при старте приложения.
